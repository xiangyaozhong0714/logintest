{"uid":"3e166bebaae7f7a0","name":"测试获取设备检查计划","fullName":"test_cases.test_get_apis.TestGetApis#test_get_search_plan","historyId":"a6b57d7b9faa798fd971ca1ba03f4c22","time":{"start":1769507355509,"stop":1769507355651,"duration":142},"description":"\n测试登录后获取设备检查计划\n\nArgs:\n    login_success: conftest.py中定义的fixture，返回登录成功的token\n    data: 测试数据，包含查询参数、预期结果等\n","descriptionHtml":"<p>测试登录后获取设备检查计划</p>\n<p>Args:<br />\nlogin_success: conftest.py中定义的fixture，返回登录成功的token<br />\ndata: 测试数据，包含查询参数、预期结果等</p>\n","status":"failed","statusMessage":"AssertionError: 响应中缺少字段：total\nassert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}","statusTrace":"test_cases\\test_get_apis.py:117: in test_get_search_plan\n    assert field in response_json, f\"响应中缺少字段：{field}\"\nE   AssertionError: 响应中缺少字段：total\nE   assert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_environment","time":{"start":1769507354547,"stop":1769507354548,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"setup_teardown","time":{"start":1769507355449,"stop":1769507355449,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"login_success","time":{"start":1769507355449,"stop":1769507355508,"duration":59},"status":"passed","steps":[{"name":"发送'POST'请求到'/admin-api/system/auth/login'","time":{"start":1769507355450,"stop":1769507355507,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"method","value":"'POST'"},{"name":"url","value":"'/admin-api/system/auth/login'"},{"name":"json","value":"{'username': 'qxtestdw', 'password': 'UkzTn2AgovNTpqUeZsVow7PnI1vX8bwNo9df6mY8EOkWfABE6qNAmz4qT/vhlN7UBOksUNn7kTAKiQBqhJGetg==', 'tenantName': '超级管理员', 'captchaVerification': 'vrBnU+ZhnsZpdLmC6Xkstrp7X5BnDxLBJWlUCtgHQv2a4W8MdF7o3MYs5wout1FNOXgktBLACrCABQ6FtheBVA==', 'rememberMe': 'true'}"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true}],"testStage":{"description":"\n测试登录后获取设备检查计划\n\nArgs:\n    login_success: conftest.py中定义的fixture，返回登录成功的token\n    data: 测试数据，包含查询参数、预期结果等\n","status":"failed","statusMessage":"AssertionError: 响应中缺少字段：total\nassert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}","statusTrace":"test_cases\\test_get_apis.py:117: in test_get_search_plan\n    assert field in response_json, f\"响应中缺少字段：{field}\"\nE   AssertionError: 响应中缺少字段：total\nE   assert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}","steps":[{"name":"1. 测试场景：查询设备检查计划","time":{"start":1769507355510,"stop":1769507355511,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"ecb14b588c04eeab","name":"查询参数","source":"ecb14b588c04eeab.txt","type":"text/plain","size":23}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"2. 发送GET请求获取设备检查计划","time":{"start":1769507355511,"stop":1769507355647,"duration":136},"status":"passed","steps":[{"name":"发送'GET'请求到'/admin-api/smartpark-equip/equipCheckPlan/searchPlan'","time":{"start":1769507355512,"stop":1769507355647,"duration":135},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"method","value":"'GET'"},{"name":"url","value":"'/admin-api/smartpark-equip/equipCheckPlan/searchPlan'"},{"name":"params","value":"{'page': 1, 'size': 10}"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"3. 验证响应状态码","time":{"start":1769507355647,"stop":1769507355647,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"4. 验证响应内容","time":{"start":1769507355647,"stop":1769507355649,"duration":2},"status":"failed","statusMessage":"AssertionError: 响应中缺少字段：total\nassert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}\n","statusTrace":"  File \"E:\\login\\test_cases\\test_get_apis.py\", line 117, in test_get_search_plan\n    assert field in response_json, f\"响应中缺少字段：{field}\"\n","steps":[],"attachments":[{"uid":"926b4a83324a35d6","name":"响应内容","source":"926b4a83324a35d6.json","type":"application/json","size":53}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[{"uid":"645263b284d90d21","name":"log","source":"645263b284d90d21.txt","type":"text/plain","size":1059},{"uid":"a3e03cfe67db9a88","name":"stdout","source":"a3e03cfe67db9a88.txt","type":"text/plain","size":1078}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":4,"attachmentStep":false,"stepsCount":5,"hasContent":true},"afterStages":[{"name":"setup_teardown::0","time":{"start":1769507355666,"stop":1769507355666,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"GET接口测试"},{"name":"epic","value":"系统管理模块"},{"name":"story","value":"设备检查计划接口"},{"name":"parentSuite","value":"test_cases"},{"name":"suite","value":"test_get_apis"},{"name":"subSuite","value":"TestGetApis"},{"name":"host","value":"DESKTOP-L9FOL4O"},{"name":"thread","value":"23776-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_cases.test_get_apis"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data","value":"{'name': '查询设备检查计划', 'params': {'page': 1, 'size': 10}, 'expected_status': 200, 'expected_fields': ['total', 'records', 'page', 'size'], 'test_id': 'TC_GET_PLAN_001'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"3e166bebaae7f7a0.json","parameterValues":["{'name': '查询设备检查计划', 'params': {'page': 1, 'size': 10}, 'expected_status': 200, 'expected_fields': ['total', 'records', 'page', 'size'], 'test_id': 'TC_GET_PLAN_001'}"]}