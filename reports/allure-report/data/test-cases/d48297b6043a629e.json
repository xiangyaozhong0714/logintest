{"uid":"d48297b6043a629e","name":"测试获取角色列表","fullName":"test_cases.test_get_apis.TestGetApis#test_get_role_list","historyId":"0486643d26c3e6ee82d6d781a01dc16c","time":{"start":1769507355361,"stop":1769507355421,"duration":60},"description":"\n测试登录后获取角色列表\n\nArgs:\n    login_success: conftest.py中定义的fixture，返回登录成功的token\n    data: 测试数据，包含查询参数、预期结果等\n","descriptionHtml":"<p>测试登录后获取角色列表</p>\n<p>Args:<br />\nlogin_success: conftest.py中定义的fixture，返回登录成功的token<br />\ndata: 测试数据，包含查询参数、预期结果等</p>\n","status":"failed","statusMessage":"AssertionError: 响应中缺少字段：total\nassert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}","statusTrace":"test_cases\\test_get_apis.py:84: in test_get_role_list\n    assert field in response_json, f\"响应中缺少字段：{field}\"\nE   AssertionError: 响应中缺少字段：total\nE   assert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_environment","time":{"start":1769507354547,"stop":1769507354548,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"setup_teardown","time":{"start":1769507355305,"stop":1769507355305,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"login_success","time":{"start":1769507355306,"stop":1769507355360,"duration":54},"status":"passed","steps":[{"name":"发送'POST'请求到'/admin-api/system/auth/login'","time":{"start":1769507355306,"stop":1769507355360,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"method","value":"'POST'"},{"name":"url","value":"'/admin-api/system/auth/login'"},{"name":"json","value":"{'username': 'qxtestdw', 'password': 'UkzTn2AgovNTpqUeZsVow7PnI1vX8bwNo9df6mY8EOkWfABE6qNAmz4qT/vhlN7UBOksUNn7kTAKiQBqhJGetg==', 'tenantName': '超级管理员', 'captchaVerification': 'vrBnU+ZhnsZpdLmC6Xkstrp7X5BnDxLBJWlUCtgHQv2a4W8MdF7o3MYs5wout1FNOXgktBLACrCABQ6FtheBVA==', 'rememberMe': 'true'}"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true}],"testStage":{"description":"\n测试登录后获取角色列表\n\nArgs:\n    login_success: conftest.py中定义的fixture，返回登录成功的token\n    data: 测试数据，包含查询参数、预期结果等\n","status":"failed","statusMessage":"AssertionError: 响应中缺少字段：total\nassert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}","statusTrace":"test_cases\\test_get_apis.py:84: in test_get_role_list\n    assert field in response_json, f\"响应中缺少字段：{field}\"\nE   AssertionError: 响应中缺少字段：total\nE   assert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}","steps":[{"name":"1. 测试场景：查询所有角色","time":{"start":1769507355361,"stop":1769507355363,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"634d79c4f20e818a","name":"查询参数","source":"634d79c4f20e818a.txt","type":"text/plain","size":2}],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"stepsCount":0,"hasContent":true},{"name":"2. 发送GET请求获取角色列表","time":{"start":1769507355363,"stop":1769507355417,"duration":54},"status":"passed","steps":[{"name":"发送'GET'请求到'/admin-api/system/role/list'","time":{"start":1769507355363,"stop":1769507355417,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"method","value":"'GET'"},{"name":"url","value":"'/admin-api/system/role/list'"},{"name":"params","value":"{}"}],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},{"name":"3. 验证响应状态码","time":{"start":1769507355417,"stop":1769507355417,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false},{"name":"4. 验证响应内容","time":{"start":1769507355417,"stop":1769507355419,"duration":2},"status":"failed","statusMessage":"AssertionError: 响应中缺少字段：total\nassert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}\n","statusTrace":"  File \"E:\\login\\test_cases\\test_get_apis.py\", line 84, in test_get_role_list\n    assert field in response_json, f\"响应中缺少字段：{field}\"\n","steps":[],"attachments":[{"uid":"bcbcfd093f6ddd6c","name":"响应内容","source":"bcbcfd093f6ddd6c.json","type":"application/json","size":53}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[{"uid":"ba683cf853149655","name":"log","source":"ba683cf853149655.txt","type":"text/plain","size":1034},{"uid":"68d3aa0e5ea3e811","name":"stdout","source":"68d3aa0e5ea3e811.txt","type":"text/plain","size":1053}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":4,"attachmentStep":false,"stepsCount":5,"hasContent":true},"afterStages":[{"name":"setup_teardown::0","time":{"start":1769507355438,"stop":1769507355438,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"story","value":"角色列表接口"},{"name":"epic","value":"系统管理模块"},{"name":"feature","value":"GET接口测试"},{"name":"parentSuite","value":"test_cases"},{"name":"suite","value":"test_get_apis"},{"name":"subSuite","value":"TestGetApis"},{"name":"host","value":"DESKTOP-L9FOL4O"},{"name":"thread","value":"23776-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_cases.test_get_apis"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"data","value":"{'name': '查询所有角色', 'params': {}, 'expected_status': 200, 'expected_fields': ['total', 'records'], 'test_id': 'TC_GET_ROLE_001'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"d48297b6043a629e.json","parameterValues":["{'name': '查询所有角色', 'params': {}, 'expected_status': 200, 'expected_fields': ['total', 'records'], 'test_id': 'TC_GET_ROLE_001'}"]}