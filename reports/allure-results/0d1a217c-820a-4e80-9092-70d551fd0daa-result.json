{"name": "测试获取设备检查计划", "status": "failed", "statusDetails": {"message": "AssertionError: 响应中缺少字段：total\nassert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}", "trace": "test_cases\\test_get_apis.py:117: in test_get_search_plan\n    assert field in response_json, f\"响应中缺少字段：{field}\"\nE   AssertionError: 响应中缺少字段：total\nE   assert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}"}, "description": "\n测试登录后获取设备检查计划\n\nArgs:\n    login_success: conftest.py中定义的fixture，返回登录成功的token\n    data: 测试数据，包含查询参数、预期结果等\n", "steps": [{"name": "1. 测试场景：查询设备检查计划", "status": "passed", "attachments": [{"name": "查询参数", "source": "1a7b894f-7c95-4b18-a60b-20243674b69b-attachment.txt", "type": "text/plain"}], "start": 1769507355510, "stop": 1769507355511}, {"name": "2. 发送GET请求获取设备检查计划", "status": "passed", "steps": [{"name": "发送'GET'请求到'/admin-api/smartpark-equip/equipCheckPlan/searchPlan'", "status": "passed", "parameters": [{"name": "method", "value": "'GET'"}, {"name": "url", "value": "'/admin-api/smartpark-equip/equipCheckPlan/searchPlan'"}, {"name": "params", "value": "{'page': 1, 'size': 10}"}], "start": 1769507355512, "stop": 1769507355647}], "start": 1769507355511, "stop": 1769507355647}, {"name": "3. 验证响应状态码", "status": "passed", "start": 1769507355647, "stop": 1769507355647}, {"name": "4. 验证响应内容", "status": "failed", "statusDetails": {"message": "AssertionError: 响应中缺少字段：total\nassert 'total' in {'code': 401, 'data': None, 'msg': '账号未登录'}\n", "trace": "  File \"E:\\login\\test_cases\\test_get_apis.py\", line 117, in test_get_search_plan\n    assert field in response_json, f\"响应中缺少字段：{field}\"\n"}, "attachments": [{"name": "响应内容", "source": "f2be3059-4134-4bf7-84c3-a9da148b0917-attachment.json", "type": "application/json"}], "start": 1769507355647, "stop": 1769507355649}], "attachments": [{"name": "log", "source": "999ba9af-f406-4d88-b57a-d52a09e70b2d-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "5ee606fb-4051-4287-845d-fa856fbcf225-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "data", "value": "{'name': '查询设备检查计划', 'params': {'page': 1, 'size': 10}, 'expected_status': 200, 'expected_fields': ['total', 'records', 'page', 'size'], 'test_id': 'TC_GET_PLAN_001'}"}], "start": 1769507355509, "stop": 1769507355651, "uuid": "f81c895b-8b44-4a5a-be1a-a50408f37d37", "historyId": "a6b57d7b9faa798fd971ca1ba03f4c22", "testCaseId": "ba848ad9fb4f93309d109c34ecfc234b", "fullName": "test_cases.test_get_apis.TestGetApis#test_get_search_plan", "labels": [{"name": "feature", "value": "GET接口测试"}, {"name": "epic", "value": "系统管理模块"}, {"name": "story", "value": "设备检查计划接口"}, {"name": "parentSuite", "value": "test_cases"}, {"name": "suite", "value": "test_get_apis"}, {"name": "subSuite", "value": "TestGetApis"}, {"name": "host", "value": "DESKTOP-L9FOL4O"}, {"name": "thread", "value": "23776-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cases.test_get_apis"}], "titlePath": ["test_cases", "test_get_apis.py", "TestGetApis"]}